![image](https://user-images.githubusercontent.com/44666536/151700230-3ddcfe4b-5d85-497c-bae5-a1e34ad4e36a.png)
Если кому-то интересно, то вот пара дополнительных задачек по packer:
В домашке для конфигов packer использовался формат JSON. Этот формат записи конфигов устарел и сейчас заменяется на HCL. Попробуйте найти официальную инструкцию, как преобразовать JSON в HCL, и воспользуйтесь ею.
В домашке мы вписывали токен от облака прямо в json-конфиг. Это небезопасно, поскольку такой конфиг в итоге хранится в публичном репозитории, любой человек может его прочитать и воспользоваться, чтобы, например, запустить майнинг биткоинов в вашем облаке. Найдите в документации, как объявлять переменные в конфиге для packer, и перепишите конфиг так, чтобы все важные параметры либо брались из переменных среды, либо из отдельного файла, который можно хранить вне репозитория.
:+1::+1::skin-tone-2:
2

https://grafana.com/docs/grafana/latest/variables/

Также в догонку к лекции по docker-compose. В прошлом году я сделал маленький PoC по мониторингу, похожий на тот, что мы разворачивали в домашней работе по docker-compose.
В моем проекте разворачивается маленькое приложение, специально сделанное для того, чтобы генерировать логи, метрики, по запросу генерировать какую-то нагрузку на процессор/память и даже падать :). Вокруг этого приложения построен стек мониторинга с использованием Prometheus и EFK.
В общем, я использовал этот проект как лабораторию, чтобы научиться работать с мониторингом, писать свои собственные экспортеры и вебхуки, а также работать с очередями.
Развернуть можно на любой машине с docker-compose. Облака не обязательны.
Запускается просто:
git clone https://github.com/Kraktorist/Monitoring-Lab.git
cd ./Monitoring-Lab
sudo docker-compose up -d
Затем открываете http://localhost:5000, и на странице видите ссылки на все развернутые компоненты. (edited) 
:+1::+1::skin-tone-2:
3

